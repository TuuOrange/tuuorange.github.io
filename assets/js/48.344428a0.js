(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{484:function(t,a,s){"use strict";s.r(a);var n=s(2),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"wxml-模版语法-数据绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml-模版语法-数据绑定"}},[t._v("#")]),t._v(" WXML 模版语法-数据绑定")]),t._v(" "),a("h2",{attrs:{id:"数据绑定的基本原则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据绑定的基本原则"}},[t._v("#")]),t._v(" 数据绑定的基本原则")]),t._v(" "),a("h3",{attrs:{id:"_1、-在-data-中定义数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-在-data-中定义数据"}},[t._v("#")]),t._v(" 1、 在 data 中定义数据")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("motto")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello World'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("userInfo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasUserInfo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("canIUse")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canIUse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button.open-type.getUserInfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("canIUseGetUserProfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("canIUseOpenData")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canIUse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open-data.type.userAvatarUrl'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("canIUse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open-data.type.userNickName'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如需尝试获取用户信息可改为false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2、-在-wxml-中使用数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-在-wxml-中使用数据"}},[t._v("#")]),t._v(" 2、 在 WXML 中使用数据")]),t._v(" "),a("p",[t._v("把 data 中的数据绑定到页面中渲染，使用**Mustache 语法（双大括号）**将变量包起来即可。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"mustache-语法的主要应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mustache-语法的主要应用场景"}},[t._v("#")]),t._v(" Mustache 语法的主要应用场景")]),t._v(" "),a("ul",[a("li",[t._v("绑定内容")]),t._v(" "),a("li",[t._v("绑定属性")]),t._v(" "),a("li",[t._v("运算（三元计算、算数运算等）")])]),t._v(" "),a("h1",{attrs:{id:"wxml-模版语法-事件绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml-模版语法-事件绑定"}},[t._v("#")]),t._v(" WXML 模版语法-事件绑定")]),t._v(" "),a("p",[t._v("事件是"),a("strong",[t._v("渲染层到逻辑层的通讯方式")]),t._v("。通过事件可以将用户在渲染层产生的行为，反馈到逻辑层进行业务的处理。")]),t._v(" "),a("p",[t._v("小程序中常用的事件：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("绑定方式")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("事件描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("tap")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("bindtap 或 bind:tap")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("手指触摸后马上离开，类似于 click")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("input")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("bindinput 或 bind:input")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("文本框的输入事件")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("change")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("bindchange 或 bind:change")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("状态改变时触发")])])])]),t._v(" "),a("p",[t._v("当事件回调触发的时候，会收到一个"),a("strong",[t._v("事件对象 event")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"target-和-currenttarget-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#target-和-currenttarget-的区别"}},[t._v("#")]),t._v(" target 和 currentTarget 的区别")]),t._v(" "),a("p",[t._v("target 是"),a("strong",[t._v("触发该事件的源头组件")]),t._v("，而 currentTarget 是"),a("strong",[t._v("当前事件所绑定的组件")]),t._v("。")]),t._v(" "),a("p",[t._v("点击内部的按钮时，点击事件以"),a("strong",[t._v("冒泡")]),t._v("的方式向外扩散，也会触发外层 view 的 tap 事件处理函数。")]),t._v(" "),a("p",[t._v("此时对于外层的 view 来说：")]),t._v(" "),a("ul",[a("li",[t._v("e.target 指向的是触发事件的"),a("u",[t._v("源头组件")]),t._v("，因此"),a("strong",[t._v("e.target 是内部的按钮组件")]),t._v("。")]),t._v(" "),a("li",[t._v("e.currentTarget 指向的是当前"),a("u",[t._v("正在触发事件")]),t._v("的这个组件，因此"),a("strong",[t._v("e.currentTarget 是当前的 view 组件")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"bindtap-的语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bindtap-的语法格式"}},[t._v("#")]),t._v(" bindtap 的语法格式")]),t._v(" "),a("p",[t._v("在小程序中，不存在 HTML 中的 onclick 鼠标点击事件，而是通过 tap 事件来响应用户的触摸行为。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"primary"')]),t._v(" bindtap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"btnTapHandler"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("tap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("btnTapHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"在事件处理函数中为-data-中的数据赋值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在事件处理函数中为-data-中的数据赋值"}},[t._v("#")]),t._v(" 在事件处理函数中为 data 中的数据赋值")]),t._v(" "),a("p",[t._v("通过调用"),a("code",[t._v("this.setData(dataObject)")]),t._v("方法，可以给页面 data 中的数据"),a("strong",[t._v("重新赋值")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("changeCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"事件传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件传参"}},[t._v("#")]),t._v(" 事件传参")]),t._v(" "),a("p",[t._v("为组件提供"),a("code",[t._v("data-*")]),t._v("自定义属性传参，其中*代表的是参数的名字")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btnHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data-info")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{100}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("handle"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\nbtnHandler(event) { console.log(event.target.dataset.info); }\n")])])]),a("h2",{attrs:{id:"bindinput-的语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bindinput-的语法格式"}},[t._v("#")]),t._v(" bindinput 的语法格式")]),t._v(" "),a("p",[t._v("在小程序中，通过 input 事件来响应文本框的输入事件。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input bindinput"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputHandler"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"实现文本框和-data-之间的数据同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现文本框和-data-之间的数据同步"}},[t._v("#")]),t._v(" 实现文本框和 data 之间的数据同步")]),t._v(" "),a("p",[t._v("实现步骤：")]),t._v(" "),a("p",[t._v("1、 定义数据")]),t._v(" "),a("p",[t._v("2、 渲染结构")]),t._v(" "),a("p",[t._v("3、 美化样式")]),t._v(" "),a("p",[t._v("4、 绑定 input 事件处理函数")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{inputMsg}}"')]),t._v(" bindinput"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"inputHandler"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("inputHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("inputMsg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"wxml-模版语法-条件渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml-模版语法-条件渲染"}},[t._v("#")]),t._v(" WXML 模版语法-条件渲染")]),t._v(" "),a("p",[t._v("在小程序中，使用"),a("code",[t._v('wx:if="condition"')]),t._v("来判断是否需要渲染该代码块：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{condition}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("isiisisisisi"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("如果要一次性控制多个组件的显示与隐藏，可以使用一个"),a("block",[t._v("标签将多个组件包装起来，并在 block 上使用 wx:if 控制属性。")])],1),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("block")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("if")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{condition}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("A"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("B"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("block")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意")]),a("p",[a("block",[t._v("并不是一个组件，它只是一个包裹性质的容器，不会在页面中做任何渲染。")])],1)]),a("p",[t._v("在小程序中，直接使用"),a("code",[t._v('hidden="{{}}"')]),t._v("也能控制元素的显示与隐藏：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("hidden")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{condition}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hidden-"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"wx-if与hidden的对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wx-if与hidden的对比"}},[t._v("#")]),t._v(" "),a("code",[t._v("wx:if")]),t._v("与"),a("code",[t._v("hidden")]),t._v("的对比")]),t._v(" "),a("h3",{attrs:{id:"_1、-运行方式不同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-运行方式不同"}},[t._v("#")]),t._v(" 1、 运行方式不同")]),t._v(" "),a("ul",[a("li",[t._v("wx:if 以"),a("strong",[t._v("动态创建和移除元素")]),t._v("的方式，控制元素的展示与隐藏")]),t._v(" "),a("li",[t._v("hidden 以切换样式的方式（"),a("code",[t._v("display:none/block")]),t._v("），控制元素的显示与隐藏")])]),t._v(" "),a("h3",{attrs:{id:"_2、-使用场景不同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-使用场景不同"}},[t._v("#")]),t._v(" 2、 使用场景不同")]),t._v(" "),a("ul",[a("li",[t._v("频繁切换时，建议使用"),a("code",[t._v("hidden")])]),t._v(" "),a("li",[t._v("控制条件复杂时，建议使用"),a("code",[t._v("wx:if")]),t._v("搭配"),a("code",[t._v("wx:elif")]),t._v("/"),a("code",[t._v("wx:else")]),t._v("进行展示与隐藏的切换")])]),t._v(" "),a("h2",{attrs:{id:"wxml-的模版语法-列表渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxml-的模版语法-列表渲染"}},[t._v("#")]),t._v(" WXML 的模版语法-列表渲染")]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("wx:for")]),t._v("可以根据指定的数组，循环渲染重复的组件结构：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{array}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{index}} - {{item}} "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("code",[t._v("wx:key")]),t._v("类似于 VUE 列表渲染中的"),a("code",[t._v(":key")]),t._v("，小程序在实现列表渲染时，可以选择为渲染出来的列表项指定唯一的 key 值，从而提高渲染的效率：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{userList}}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{item.id}} - {{item.value}} "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h1",{attrs:{id:"wxss-模版样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss-模版样式"}},[t._v("#")]),t._v(" WXSS 模版样式")]),t._v(" "),a("h2",{attrs:{id:"wxss-和-css-的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss-和-css-的关系"}},[t._v("#")]),t._v(" WXSS 和 CSS 的关系")]),t._v(" "),a("p",[t._v("WXSS 具有 CSS 大部分特性，同时，WXSS 还对 CSS 进行了扩充和修改，来适应微信小程序的开发：")]),t._v(" "),a("ul",[a("li",[t._v("rpx 尺寸单位")]),t._v(" "),a("li",[t._v("@import 样式导入")])]),t._v(" "),a("h2",{attrs:{id:"什么是-rpx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-rpx"}},[t._v("#")]),t._v(" 什么是 rpx")]),t._v(" "),a("p",[t._v("rpx（responsive pixel）是微信小程序独有的，用来"),a("strong",[t._v("解决屏适配的尺寸单位")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"rpx-的实现原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpx-的实现原理"}},[t._v("#")]),t._v(" rpx 的实现原理")]),t._v(" "),a("p",[t._v("鉴于不同设备屏幕的大小不同，为了实现屏幕的自动适配，rpx 将所有设备的屏幕在宽度上等分为"),a("strong",[t._v("750 份")]),t._v("（即：当前屏幕的总宽度的 750rpx）")]),t._v(" "),a("ul",[a("li",[t._v("在较小的设备上，1rpx 所代表的宽度较小")]),t._v(" "),a("li",[t._v("在较大的设备上，1rpx 所代表的宽度较大")])]),t._v(" "),a("p",[t._v("小程序在不同设备上运行的时候，会自动把 rpx 的样式单位换算成对应的像素单位来渲染，从而实现屏幕适配。")]),t._v(" "),a("h2",{attrs:{id:"wxss-模版样式-rpx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss-模版样式-rpx"}},[t._v("#")]),t._v(" WXSS 模版样式-rpx")]),t._v(" "),a("h3",{attrs:{id:"rpx-与-px-之间的单位换算"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpx-与-px-之间的单位换算"}},[t._v("#")]),t._v(" rpx 与 px 之间的单位换算")]),t._v(" "),a("p",[t._v("比如在 iphone6 上，屏幕宽度为 375px，共有 750 个物理像素，等分为 750rpx，则")]),t._v(" "),a("p",[t._v("750rpx=375px=750 物理像素")]),t._v(" "),a("p",[t._v("1rpx=0.5px=1 物理像素")]),t._v(" "),a("h2",{attrs:{id:"wxss-模版样式-样式导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss-模版样式-样式导入"}},[t._v("#")]),t._v(" WXSS 模版样式-样式导入")]),t._v(" "),a("p",[t._v("使用 WXSS 提供的"),a("code",[t._v("@import")]),t._v("语法，导入外联的样式表。")]),t._v(" "),a("h3",{attrs:{id:"import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[t._v("#")]),t._v(" @import")]),t._v(" "),a("p",[t._v("@import 后面要加需要导入的外联样式表的"),a("strong",[t._v("相对路径")])]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./common.wxss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n")])])]),a("h2",{attrs:{id:"wxss-模版样式-全局样式和局部样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxss-模版样式-全局样式和局部样式"}},[t._v("#")]),t._v(" WXSS 模版样式-全局样式和局部样式")]),t._v(" "),a("p",[t._v("app.wxss 中的样式为全局样式，作用于每个页面。")]),t._v(" "),a("p",[t._v("在页面的.wxss 的样式为局部样式，只作用于当前页面。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意")]),a("p",[t._v("1、 当局部样式和全局样式冲突时，根据"),a("strong",[t._v("就近原则")]),t._v("，局部样式会覆盖全局样式")]),t._v(" "),a("p",[t._v("2、 当局部样式的权重"),a("strong",[t._v("大于或等于")]),t._v("全局样式的权重时，会覆盖全局样式")])]),a("h1",{attrs:{id:"全局配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局配置"}},[t._v("#")]),t._v(" 全局配置")]),t._v(" "),a("h2",{attrs:{id:"全局配置文件及其常用的配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局配置文件及其常用的配置项"}},[t._v("#")]),t._v(" 全局配置文件及其常用的配置项")]),t._v(" "),a("p",[t._v("小程序根目录下的"),a("strong",[t._v("app.json")]),t._v("文件是小程序的"),a("strong",[t._v("全局配置")]),t._v("文件。常用的配置如下：")]),t._v(" "),a("h3",{attrs:{id:"_1、-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-pages"}},[t._v("#")]),t._v(" 1、 pages")]),t._v(" "),a("p",[t._v("记录当前小程序所有"),a("u",[t._v("页面")]),t._v("的存放路径。")]),t._v(" "),a("h3",{attrs:{id:"_2、-window"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-window"}},[t._v("#")]),t._v(" 2、 window")]),t._v(" "),a("p",[t._v("全局设置"),a("u",[t._v("小程序窗口")]),t._v("的外观。")]),t._v(" "),a("p",[t._v("小程序窗口的组成部分：")]),t._v(" "),a("ul",[a("li",[t._v("navigationBar 导航栏区域")]),t._v(" "),a("li",[t._v("background 背景区域，默认不可见，下拉才会显示")]),t._v(" "),a("li",[t._v("页面的主体区域，用来展示 wxml 的布局")])]),t._v(" "),a("h4",{attrs:{id:"全局开启下拉刷新功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局开启下拉刷新功能"}},[t._v("#")]),t._v(" 全局开启下拉刷新功能")]),t._v(" "),a("p",[t._v("下拉刷新是移动端的专有名词，指的是通过手指在屏幕上的下拉滑动操作，从而重新加载页面数据的行为。")]),t._v(" "),a("p",[t._v("小程序中的下拉刷新还需要对下拉后回复做处理，在 app.json 中定义的话会全局都可以下拉刷新，建议在某个页面需要下拉刷新时再在 json 文件中配置。")]),t._v(" "),a("h4",{attrs:{id:"设置上拉触底的距离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置上拉触底的距离"}},[t._v("#")]),t._v(" 设置上拉触底的距离")]),t._v(" "),a("p",[t._v("上拉触底是移动端的专有名词，通过手指在屏幕上的上拉滑动操作，从而"),a("strong",[t._v("加载更多数据")]),t._v("的行为。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"window"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"navigationBarBackgroundColor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"navigationBarTitleText"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"study"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"navigationBarTextStyle"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"black"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"backgroundColor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#efefef"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"enablePullDownRefresh"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"backgroundTextStyle"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dark"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"onReachBottomDistance"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3、-tabbar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-tabbar"}},[t._v("#")]),t._v(" 3、 tabBar")]),t._v(" "),a("p",[t._v("设置小程序"),a("u",[t._v("底部的 tabBar")]),t._v("效果。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意")]),a("p",[t._v("1、 tabBar 只能设置 2-5 个 tab")]),t._v(" "),a("p",[t._v("2、 当渲染顶部 tabBar 时，不显示 icon，只显示文本")])]),a("h4",{attrs:{id:"每个-tab-项的配置选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#每个-tab-项的配置选项"}},[t._v("#")]),t._v(" 每个 tab 项的配置选项")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"tabBar"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pagePath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/list/list"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"text"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"list"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"iconPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/list.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"selectedIconPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/list-active.png"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pagePath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages/index/index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"text"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"index"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"iconPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/index.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"selectedIconPath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/index-active.png"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"backgroundColor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#fff"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"color"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#ffe"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4、-style"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、-style"}},[t._v("#")]),t._v(" 4、 style")]),t._v(" "),a("p",[t._v("是否启用新版的组件样式。（v2）")]),t._v(" "),a("h1",{attrs:{id:"小程序的网络数据请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序的网络数据请求"}},[t._v("#")]),t._v(" 小程序的网络数据请求")]),t._v(" "),a("h2",{attrs:{id:"小程序中网络数据请求的限制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小程序中网络数据请求的限制"}},[t._v("#")]),t._v(" 小程序中网络数据请求的限制")]),t._v(" "),a("p",[t._v("处于"),a("u",[t._v("安全性")]),t._v("方面的考虑，小程序官方对数据接口的请求作出了如下两个限制：")]),t._v(" "),a("p",[t._v("1、 只能请求 HTTPS 类型的接口")]),t._v(" "),a("p",[t._v("2、 必须将接口的域名添加到信任列表中")]),t._v(" "),a("h3",{attrs:{id:"配置-request-合法域名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-request-合法域名"}},[t._v("#")]),t._v(" 配置 request 合法域名")]),t._v(" "),a("p",[t._v("微信小程序管理后台 -> 开发设置 -> 服务器域名 -> 修改 request 合法域名")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意事项")]),a("p",[t._v("1、 域名只支持 https 协议")]),t._v(" "),a("p",[t._v("2、 域名不能使用 IP 地址或 localhost")]),t._v(" "),a("p",[t._v("3、 域名必须经过 ICP 备案")]),t._v(" "),a("p",[t._v("4、 服务器域名一个月内最多可申请 5 次修改")])]),a("h2",{attrs:{id:"发起-get-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发起-get-请求"}},[t._v("#")]),t._v(" 发起 get 请求")]),t._v(" "),a("p",[t._v("调用微信小程序提供的"),a("code",[t._v("wx.request()")]),t._v("方法，可以发起 GET 数据请求：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button bindtap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getInfo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("发起"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("请求"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.get.com/api/get"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"发起-post-请求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发起-post-请求"}},[t._v("#")]),t._v(" 发起 POST 请求")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button bindtap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getInfo"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("发起"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("POST")]),t._v("请求"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.post.com/api/post"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"在页面刚加载时请求数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在页面刚加载时请求数据"}},[t._v("#")]),t._v(" 在页面刚加载时请求数据")]),t._v(" "),a("p",[t._v("在很多情况下，我们需要在页面刚加载的时候，自动请求一些"),a("strong",[t._v("初始化的数据")]),t._v("。")]),t._v(" "),a("p",[t._v("此时，需要使用页面的"),a("strong",[t._v("onload")]),t._v("事件调用获取数据的函数：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"跳过-request-合法域名检验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跳过-request-合法域名检验"}},[t._v("#")]),t._v(" 跳过 request 合法域名检验")]),t._v(" "),a("p",[t._v("为了不耽误开发进度，可以在微信开发者工具中，临时开启[开发环境不校验请求域名、TLS 版本及 HTTPS 证书]选项，跳过 request 合法域名检验。")]),t._v(" "),a("p",[t._v("详情-本地设置-不校验....（仅用于开发阶段）")]),t._v(" "),a("h2",{attrs:{id:"关于跨域和-ajax-的说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于跨域和-ajax-的说明"}},[t._v("#")]),t._v(" 关于跨域和 Ajax 的说明")]),t._v(" "),a("p",[t._v("跨域问题只存在于基于浏览器的 web 开发中，小程序的宿主环境不是浏览器而是微信客户端，所以小程序不存在跨域问题。")]),t._v(" "),a("p",[t._v("ajax 的核心是依赖于浏览器的 XMLHttpRequest 对象，但是由于小程序的宿主环境是微信客户端，所以小程序并不是“发起 ajax 请求“，而是“发起网络数据请求”。")]),t._v(" "),a("h1",{attrs:{id:"页面导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面导航"}},[t._v("#")]),t._v(" 页面导航")]),t._v(" "),a("h3",{attrs:{id:"声明式导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#声明式导航"}},[t._v("#")]),t._v(" 声明式导航")]),t._v(" "),a("ul",[a("li",[t._v("在页面上声明一个"),a("code",[t._v("<navigator>")]),t._v("导航组件")]),t._v(" "),a("li",[t._v("通过点击"),a("code",[t._v("<navigator>")]),t._v("组件实现页面跳转")])]),t._v(" "),a("h3",{attrs:{id:"编程式导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编程式导航"}},[t._v("#")]),t._v(" 编程式导航")]),t._v(" "),a("ul",[a("li",[t._v("调用小程序的导航 API，实现页面的跳转")])]),t._v(" "),a("h2",{attrs:{id:"导航到-tabbar-页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导航到-tabbar-页面"}},[t._v("#")]),t._v(" 导航到 tabBar 页面")]),t._v(" "),a("p",[t._v("在使用"),a("code",[t._v("<navigator>")]),t._v("组件跳转到指定的 tabBar 页面时，需要指定"),a("strong",[t._v("url")]),t._v("属性和"),a("strong",[t._v("open-type")]),t._v("属性")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("url")]),t._v("表示要跳转的页面地址，必须以**/**开头")]),t._v(" "),a("li",[a("strong",[t._v("open-type")]),t._v("表示跳转的方式，必须为"),a("strong",[t._v("switchTab")])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/pages/xx/xx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("open-type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("switchTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("导航到某tabBar页面"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("navigator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("调用"),a("code",[t._v("wx.switchTab(Object[url] Obejct[success/fail/complete])")]),t._v("方法，可以跳转到 tabBar 页面。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("gototabBar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("跳转到tabBar页面"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\n\ngototabBar() { wx.switchTab({ url: "/pages/xx/xx" }) }\n')])])]),a("h2",{attrs:{id:"导航到非-tabbar-页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导航到非-tabbar-页面"}},[t._v("#")]),t._v(" 导航到非 tabBar 页面")]),t._v(" "),a("p",[t._v("在使用"),a("code",[t._v("<navigator>")]),t._v("组件跳转到普通的非 tabBar 页面时，则需要指定 url 属性和 open-type 属性")]),t._v(" "),a("ul",[a("li",[t._v("url 表示要跳转的页面的地址，必须以/开头")]),t._v(" "),a("li",[t._v("open-type 表示跳转的方式，必须为"),a("strong",[t._v("navigate")])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/pages/xxx/xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("open-type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("navigate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("跳转到某非tabBar页面"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("navigator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("调用"),a("code",[t._v("wx.navigateTo(Object[url] Object[success/fail/complete])")]),t._v("方法，跳转到非 tabBar 页面")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("gotonotabBar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("跳转到非tabBar页面"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\n\ngotonotabBar() { wx.navigateTo({ url: "/pages/xxx/xxx" }) }\n')])])]),a("h2",{attrs:{id:"后退导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后退导航"}},[t._v("#")]),t._v(" 后退导航")]),t._v(" "),a("p",[t._v("如果要后退到上一页面或多级页面，则需要指定 open-type 属性和 delta 属性")]),t._v(" "),a("ul",[a("li",[t._v("open-type 的值必须是"),a("strong",[t._v("navigateBack")]),t._v("，表示要进行后退导航")]),t._v(" "),a("li",[t._v("delta 的值必须是"),a("strong",[t._v("数字")]),t._v("，表示要后退的层级")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("delta")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("open-type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("navigateBack"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("后退"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("navigator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("调用"),a("code",[t._v("wx.navigateBack(Object[delta] Object[success/fail/complete])")]),t._v("方法，返回上一级或者多级页面")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bindtap")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("back"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("后退"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\nback() { wx.navigateBack({ delta: 2 }) }\n")])])]),a("h2",{attrs:{id:"导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#导航传参"}},[t._v("#")]),t._v(" 导航传参")]),t._v(" "),a("h3",{attrs:{id:"声明式导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#声明式导航传参"}},[t._v("#")]),t._v(" 声明式导航传参")]),t._v(" "),a("p",[t._v("navigator 组件的 url 属性用来指定将要跳转到的页面的路径。同时，路径的后面还可以携带参数")]),t._v(" "),a("ul",[a("li",[t._v("参数和路径之间使用"),a("code",[t._v("?")]),t._v("分隔")]),t._v(" "),a("li",[t._v("参数键与参数值用"),a("code",[t._v("=")]),t._v("相连")]),t._v(" "),a("li",[t._v("不同参数用"),a("code",[t._v("&")]),t._v("分隔")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("navigator")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/pages/xxx/xxx?name=hhh&age=10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("open-type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("navigate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("导航"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("navigator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h3",{attrs:{id:"编程式导航传参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编程式导航传参"}},[t._v("#")]),t._v(" 编程式导航传参")]),t._v(" "),a("p",[t._v("调用"),a("code",[t._v("wx.navigateTo()")]),t._v("方法页面时，可以携带参数")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("gotonotabBar")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\twx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/pages/xxx/xxx?name=hhh&age=10"')]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"在-onload-中接收导航参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-onload-中接收导航参数"}},[t._v("#")]),t._v(" 在 onLoad 中接收导航参数")]),t._v(" "),a("p",[t._v("通过声明式导航传参或编程式导航传参所携带的参数，可以直接在 onLoad 事件中直接获取到")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n* 生命周期函数 - 监听页面加载\n*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// options就是导航传递过来的参数对象")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"下拉刷新事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下拉刷新事件"}},[t._v("#")]),t._v(" 下拉刷新事件")]),t._v(" "),a("p",[t._v("重新加载页面数据。（json 中设置 enablePullDownFresh 为 true）")]),t._v(" "),a("h2",{attrs:{id:"配置下拉刷新窗口的样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置下拉刷新窗口的样式"}},[t._v("#")]),t._v(" 配置下拉刷新窗口的样式")]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("backgroundColor")]),t._v("（背景颜色-16 进制）和"),a("code",[t._v("backgroundTextStyle")]),t._v("（loading 样式，仅支持 dark 和 light）配置下拉刷新的窗口的样式。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v('"enablePullDownRefresh": true, "backgroundColor": "#efefef", "backgroundTextStyle": "dark"\n')])])]),a("h2",{attrs:{id:"监听页面的下拉刷新事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监听页面的下拉刷新事件"}},[t._v("#")]),t._v(" 监听页面的下拉刷新事件")]),t._v(" "),a("p",[t._v("在页面的.js 文件中，通过"),a("code",[t._v("onPullDownRefresh()")]),t._v("函数可以监听当前页面的下拉刷新事件。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPullDownRefresh")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"刷新喽"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// count归0")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"停止下拉刷新的效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止下拉刷新的效果"}},[t._v("#")]),t._v(" 停止下拉刷新的效果")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPullDownRefresh")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"刷新喽"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// count归0")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPullDownRefresh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"上拉触底事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上拉触底事件"}},[t._v("#")]),t._v(" 上拉触底事件")]),t._v(" "),a("p",[t._v("上拉滑动时，加载更多数据。")]),t._v(" "),a("h2",{attrs:{id:"监听上拉触底事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监听上拉触底事件"}},[t._v("#")]),t._v(" 监听上拉触底事件")]),t._v(" "),a("p",[t._v("在页面的.js 文件中，通过"),a("code",[t._v("onReachBottom()")]),t._v("函数可以监听当前页面的上拉触底事件。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReachBottom")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"哦豁，触底了，不得加载个数据？"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置上拉触底距离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置上拉触底距离"}},[t._v("#")]),t._v(" 配置上拉触底距离")]),t._v(" "),a("p",[t._v(".json 中的"),a("code",[t._v("onReachBottomDistance")]),t._v("配置上拉触底距离。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"onReachBottomDistance"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认50")]),t._v("\n")])])]),a("h2",{attrs:{id:"添加-loading-提示效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加-loading-提示效果"}},[t._v("#")]),t._v(" 添加 loading 提示效果")]),t._v(" "),a("p",[a("code",[t._v("wx.showLoading(Object[title] Object[mask/success/fail/complete])")]),t._v("，需要主动调用"),a("code",[t._v("wx.hideLoading")]),t._v("才能关闭加载提示框。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("showLoading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'loading...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("complete")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideLoading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"对下拉触底进行节流处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对下拉触底进行节流处理"}},[t._v("#")]),t._v(" 对下拉触底进行节流处理")]),t._v(" "),a("p",[t._v("当连续进行下拉触底的时候，会加载很多数据，而可能当时正在申请加载其他的数据，这样会造成会造成加载时间过长等问题。")]),t._v(" "),a("h3",{attrs:{id:"_1、-在-data-中定义一个-isloading-节流阀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-在-data-中定义一个-isloading-节流阀"}},[t._v("#")]),t._v(" 1、 在 data 中定义一个 "),a("code",[t._v("isloading")]),t._v(" 节流阀")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("false 表示当前没有进行任何数据请求")])]),t._v(" "),a("li",[a("p",[t._v("true 表示当前正在进行数据请求")])])]),t._v(" "),a("h3",{attrs:{id:"_2、-在获取数据的方法中修改-isloading节流阀的值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-在获取数据的方法中修改-isloading节流阀的值"}},[t._v("#")]),t._v(" 2、 在"),a("strong",[t._v("获取数据的方法")]),t._v("中修改 "),a("code",[t._v("isloading")]),t._v("节流阀的值")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在刚调用方法时将节流阀设置为 true")])]),t._v(" "),a("li",[a("p",[t._v("在网络数据请求 complete 回调函数中，将节流值设置为 false")])])]),t._v(" "),a("h3",{attrs:{id:"_3、-在onreachbottom中判断节流阀的值-然后对数据请求进行节流控制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、-在onreachbottom中判断节流阀的值-然后对数据请求进行节流控制"}},[t._v("#")]),t._v(" 3、 在"),a("code",[t._v("onReachBottom")]),t._v("中判断节流阀的值，然后对数据请求进行节流控制")]),t._v(" "),a("ul",[a("li",[t._v("如果节流阀的值为 true，则阻止当前的请求")]),t._v(" "),a("li",[t._v("如果节流阀的值为 false，则发起数据请求")])]),t._v(" "),a("h2",{attrs:{id:"自定义编译模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义编译模式"}},[t._v("#")]),t._v(" 自定义编译模式")]),t._v(" "),a("p",[t._v("普通编译 - 添加编译模式，在重新编译之后直接到达我们想要去的页面。")]),t._v(" "),a("h1",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("p",[t._v("生命周期是指，一个对象从创建 - 运行 - 销毁 的整个阶段，强调的是一个时间段。")]),t._v(" "),a("h2",{attrs:{id:"生命周期的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期的分类"}},[t._v("#")]),t._v(" 生命周期的分类")]),t._v(" "),a("p",[t._v("在小程序中，生命周期分为两类，分别是：")]),t._v(" "),a("p",[t._v("1、 应用声明周期")]),t._v(" "),a("ul",[a("li",[t._v("小程序从 启动 - 运行 - 销毁 的过程")])]),t._v(" "),a("p",[t._v("2、 页面声明周期")]),t._v(" "),a("ul",[a("li",[t._v("小程序中，每个页面的 加载 - 渲染 - 销毁 的过程")])]),t._v(" "),a("p",[t._v("其中，页面的生命周期范围较小，应用程序的生命周期范围较大")]),t._v(" "),a("p",[t._v("小程序启动 - 页面 A 的生命周期 - 页面 B 的生命周期 - 页面 C 的生命周期 - ... - 小程序结束")]),t._v(" "),a("h2",{attrs:{id:"什么是生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是生命周期函数"}},[t._v("#")]),t._v(" 什么是生命周期函数")]),t._v(" "),a("p",[t._v("是由小程序框架提供的"),a("strong",[t._v("内置函数")]),t._v("，会伴随着生命周期，自动按次序执行。")]),t._v(" "),a("p",[t._v("声明周期函数的作用：允许程序猿在"),a("strong",[t._v("特定的时间点，执行某些特定的操作")]),t._v("。比如：在页面刚加载的时候，使用 onLoad 生命周期函数初始化页面的数据。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意")]),a("p",[t._v("生命周期强调的是时间段，生命周期函数强调的是时间点。")])]),a("h2",{attrs:{id:"生命周期函数的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期函数的分类"}},[t._v("#")]),t._v(" 生命周期函数的分类")]),t._v(" "),a("h3",{attrs:{id:"应用生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用生命周期函数"}},[t._v("#")]),t._v(" 应用生命周期函数")]),t._v(" "),a("p",[t._v("小程序的应用生命周期函数需要在"),a("strong",[t._v("app.js")]),t._v("中进行声明")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小程序初始化完成时，执行此函数，全局只触发一次，可以做一些初始化的工作")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLaunch")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小程序启动，或从后台进入前台显示时触发")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小程序从前台进入后台时触发")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"页面的生命周期函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面的生命周期函数"}},[t._v("#")]),t._v(" 页面的生命周期函数")]),t._v(" "),a("p",[t._v("小程序中的页面生命周期函数需要在页面的.js 文件中进行声明：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 页面的.js文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面加载，一个页面只调用一次")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onShow")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面显示")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面初次渲染完成，一个页面只调用一次，可以对视图层进行修改配置")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onHide")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面隐藏")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onUnload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监听页面卸载，一个页面只调用一次")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过onLoad和onReady两个生命周期函数动态改变页面渲染完成之后导航上的title")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onLoad")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setNavigationBarTitle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义导航上的title")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"wxs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs"}},[t._v("#")]),t._v(" WXS")]),t._v(" "),a("h2",{attrs:{id:"什么是-wxs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-wxs"}},[t._v("#")]),t._v(" 什么是 WXS")]),t._v(" "),a("p",[t._v("WXS 是小程序独有的一套脚本语言，结合 WXML 可以构建出页面的结构。")]),t._v(" "),a("h2",{attrs:{id:"wxs-应用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs-应用场景"}},[t._v("#")]),t._v(" WXS 应用场景")]),t._v(" "),a("p",[t._v("WXML 中无法调用在页面的.js 中定义的函数，但是 WXML 可以调用 WXS 中定义的函数。")]),t._v(" "),a("p",[t._v("所以，WXS 的典型应用场景就是 "),a("strong",[t._v("“过滤器”")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"wxs-和-js-的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs-和-js-的关系"}},[t._v("#")]),t._v(" WXS 和 JS 的关系*")]),t._v(" "),a("p",[t._v("虽然 WXS 的语法类似于 JS，但是是完全不同的两种语言，")]),t._v(" "),a("p",[t._v("1、 WXS 有自己的数据类型")]),t._v(" "),a("ul",[a("li",[t._v("number string boolean object")]),t._v(" "),a("li",[t._v("function array date regexp")])]),t._v(" "),a("p",[t._v("2、 WXS 不支持类似于 ES6 及以上的语法形式")]),t._v(" "),a("ul",[a("li",[t._v("不支持：let const 解构赋值 展开运算符 箭头函数 对象属性简写...")]),t._v(" "),a("li",[t._v("支持：var function 的 ES5 写法")])]),t._v(" "),a("p",[t._v("3、 WXS 遵循 CommonJS 规范")]),t._v(" "),a("ul",[a("li",[t._v("module 对象")]),t._v(" "),a("li",[t._v("require 对象")]),t._v(" "),a("li",[t._v("module.exports 对象")])]),t._v(" "),a("h2",{attrs:{id:"wxs-脚本-基础语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#wxs-脚本-基础语法"}},[t._v("#")]),t._v(" WXS 脚本 - 基础语法")]),t._v(" "),a("h3",{attrs:{id:"_1、-内嵌-wxs-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、-内嵌-wxs-脚本"}},[t._v("#")]),t._v(" 1、 内嵌 WXS 脚本")]),t._v(" "),a("p",[t._v("wxml 中的每个"),a("wxs",[t._v("标签，必须提供"),a("strong",[t._v("module")]),t._v("属性，用来"),a("u",[t._v("指定当前 wxs 的模块名称")]),t._v("，方便在 wxml 中访问模块中过的成员：")])],1),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('{{m1.toUpper("username")}}'),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("wxs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("m1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" // 将文本转为大写 module.exports.toUpper = function(str) { return str.toUpperCase(); } "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("wxs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h3",{attrs:{id:"_2、-定义外联的-wxs-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、-定义外联的-wxs-脚本"}},[t._v("#")]),t._v(" 2、 定义外联的 wxs 脚本")]),t._v(" "),a("p",[t._v("wxs 还可以编写在以.wxs 为后缀名的文件内，就像.js 一样")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tools.wxs")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("export "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toLower")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" toLower\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("m2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLower")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("wxs src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../../utils/tools.wxs"')]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m2"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("wxs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"title"}),a("p",[t._v("WXS 典型的应用场景是“过滤器”，经常配合 Mustache{{}}语法进行使用，不能作为组件的事件回调函数。")])]),a("h3",{attrs:{id:"_3、隔离性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、隔离性"}},[t._v("#")]),t._v(" 3、隔离性")]),t._v(" "),a("p",[t._v("隔离性是指 wxs 的运行环境是和其他 js 代码隔离的。")]),t._v(" "),a("ul",[a("li",[t._v("wxs 不能调用 js 中定义的函数")]),t._v(" "),a("li",[t._v("wxs 不能调用小程序提供的 API")])]),t._v(" "),a("h3",{attrs:{id:"_4、-性能好"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、-性能好"}},[t._v("#")]),t._v(" 4、 性能好")]),t._v(" "),a("ul",[a("li",[t._v("在 IOS 上，小程序内的 WXS 比 JS 快 2 ～ 20 倍")]),t._v(" "),a("li",[t._v("在安卓上，运行效率无差异")])])])}),[],!1,null,null,null);a.default=r.exports}}]);